<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <title>Scheme</title>
        <script>
            let schemeModule = require('./schemeModule.js')

            function onCreate() {
                //TODO Check
            }

            async function executeScheme() {
                //TODO
                const schemeText = document.querySelector("#scheme").value
                if (schemeText.trim() == '') {
                    alert("Please input the scheme text.")
                    return
                }
                let result = await schemeModule.executeScheme(schemeText)
                schemeModule.addSchemeToHistory(schemeText)
                alert(result)
            }

            function removeSchemeToHistory(scheme) {
                schemeModule.removeSchemeToHistory(scheme)
            }
        </script>
    </head>
    <body onload="onCreate()">

        <headerline>
            <headertext>Scheme</headertext>
            <input id="scheme" style="flex-grow: 1;" onkeyup="if(window.event.keyCode==13) { executeScheme() }"/>
            <div style="float: right">
                <button id="execute" onclick="executeScheme()">Execute</button>
            </div>
        </headerline>

        <!--historylist --> 
        <headertext style="padding-top: 20px;">History</headertext>
        <historylist id="historylist"></historylist>
    </body>
</html>
